<!doctype HTML>
<html class="reftest-wait">
<meta charset="utf8">
<title>Subtree Visibility: pseudo elements</title>
<link rel="author" title="Rakina Zata Amni" href="mailto:rakina@chromium.org">
<link rel="help" href="https://github.com/WICG/display-locking">
<link rel="match" href="subtree-visibility-044-ref.html">
<meta name="assert" content="subtree-visibility elements paints ::before and ::after when hidden is removed">

<script src="/common/reftest-wait.js"></script>

<style>
#container::before {
  content: "a";
  color: blue;
}
.hasAfter::after {
  content: "b";
  color: green;
}
.hidden {
  subtree-visibility: hidden;
}
</style>
<div id="container" class=hidden style="display:none;"></div>

<script>
async function runTest() {
  container.classList.add("hasAfter");
  container.classList.remove("hidden");
  container.style = "";
  requestAnimationFrame(takeScreenshot);
}

window.onload = runTest;
</script>
</html>
